---
title: 计组-计算机系统漫游
date: 2021-11-03 20:45:51
tags:
categories:
- 计组
---
计算机系统是由硬件和软件系统组成的，他们公共工作来运行计算机系统

hello.c
```c
#include <stdio.h>
int main(){
    printf("hello,word\n");
    return 0;
}
```
# 信息就是位+上下文

hello.c 的AscII码

![](https://isam2016hexo.oss-cn-hangzhou.aliyuncs.com/img/20211105231324.jpg)

由ASCII 字节构成的文件为文本文件，其他所有的文件都是二进制文件。

区分不同的数据对象的五一方法是我们读到这些数据独享的上下文，比如，在不同的上下文中，一个同样的子杰序列都可能表示一个整数，浮点数，字符串。
 
# 程序被其他程序翻译成不同的格式

cpu是不能直接执行高级语言的，需要把高级语言转为低级语言，机器语言。也加可执行文件。

![](https://isam2016hexo.oss-cn-hangzhou.aliyuncs.com/img/20211105215816.jpg)

1. 预处理阶段： 是根据以字符#开头的命令，修改原始c程序。 得到以.i结尾的文件。
2. 编译阶段： 将文本文件hello.i 翻译成hello.s，他包含一个汇编语言程序。
3. 汇编阶段： 将hello.s 翻译成机器执行，把这些指令打包成一种叫做可重定位目标程序的格式。并将结果保存在目标文件hello.o 中
4. 链接阶段： 连接器就是负责处理合并，结果得到hello文件，是一个可执行目标文件

# 处理器读并解释存在内存中的指令

计算机的硬件组成，在之前已经介绍过。

cpu 的工作就是”取值执行“。”找到指令，执行指令“，指令在内存中。pc 是程序计数器，在任何时候，pc都指向主存中的某条机器语言指令。执行一条指令，pc就指向下一条指令。

在cpu 这个环节，我们应该关注寄存器，因为我们所写的程序能操作cpu的寄存器。 从字面意思 不难发现 他的作用是信息存储的地方。

我们可以观察一下 运行hello程序：

需要告诉shell要执行文件的名字，所以我们输入`./hello`。shell程序将再付逐一读入寄存器，在把它放到内存中。如图

![](https://isam2016hexo.oss-cn-hangzhou.aliyuncs.com/img/20211105223057.jpg)

当我们在键盘上敲回车，shell程序就知道哦我们已经结束了命令的输入，然后来加载可执行的hello文件。这些指令将hello目标文件中代码和数据从磁盘复制到主存

![](https://isam2016hexo.oss-cn-hangzhou.aliyuncs.com/img/20211105223422.jpg)

一旦目标文件hello中代码和数据被加载到主存，处理器就就开始，执行hello 程序的main 程序中的机器语言指令。 这里的细节，到汇编模块会有详细的介绍

![](https://isam2016hexo.oss-cn-hangzhou.aliyuncs.com/img/20211105223753.jpg)

# 存储设备形成层次结构
 
 在处理器和一个较大较慢的设备（例如主存） 之间插入一个更小更快的存储设备（例如高速缓存） ，来执行效率的问题。计算机系统中的村粗设备都被组织成了一个存储层次结构。
 ![](https://isam2016hexo.oss-cn-hangzhou.aliyuncs.com/img/20211105224513.jpg)
 
 # 操作系统管理硬盘
 
 我们把操作系统看做是应用程序和硬件之间插入的一层软件。如图
 ![](https://isam2016hexo.oss-cn-hangzhou.aliyuncs.com/img/20211105224845.jpg)

操作系统有两个基本功能：
1. 防止硬件时空的应用程序滥用
2. 向应用程序提供简单一致的机制来控制复杂而又通常大不相同的低级硬件设备。

操作系统通过几个基本的抽象概念 （进程，虚拟内存，文件）来实现这两个功能
![](https://isam2016hexo.oss-cn-hangzhou.aliyuncs.com/img/20211105225344.jpg)

文件是对IO设备的抽象表示，虚拟内存是对主存和磁盘IO设备的抽象表示。进程则是对处理器，主存和IO设备的抽象表示
<!-- TODO:进程，并发 -->
进程，虚拟内存，文件，并发和并行。在以后的实现操作系统章节中会一一介绍。

# 抽象的重要性

抽象是非常的概念。刚在已经介绍过几个抽象的概念。虚拟机是对整个计算机的抽象

![](https://isam2016hexo.oss-cn-hangzhou.aliyuncs.com/img/20211105231022.jpg)