---
title: 程序是怎样跑起来的
date: 2021-09-07 17:10:14
categories: 
- 计组-程序是怎么跑起来的
---

并没有把全书的章节进行全部做介绍。

1. 去除了 关于汇编的内容，因为后边章节会有详细介绍，对于新手不太友好，而且我希望是边做实验，边做介绍，这样效果会更好
2. 更改如下
   1. 保留第一章的部分
   2. 去除了第6，9，10，11，12章

# 对程序来说CPU是什么

## cpu 
组成:
* 寄存器
  * 可以暂存指令，数据。常见的比如 ax, cs, ds 等。可以当做内存的一种。程序只把寄存器当做对象来描述的
* 控制器
* 运算器
* 时钟
  * 负责发出cpu 开始计时的时钟信号

各个部分之间依靠”总线“联通的，我们可以把cpu理解为，具有各种功能的寄存器的集合体

###  程序是如何让CPU 执行的
![](https://isam2016hexo.oss-cn-hangzhou.aliyuncs.com/img/20210907173158.jpg)

### 内存 
内存是用来存储数据和指令。

每个字节（8bit）都有第一个编号。cpu可以通过这个编号来读写内存的指令和数据。 

![](https://isam2016hexo.oss-cn-hangzhou.aliyuncs.com/img/20210907105026.jpg)

红色部分,每两个数一组，就是字节。

### 程序流程如何在cpu执行的
程序计数器决定这程序的流程
![](https://isam2016hexo.oss-cn-hangzhou.aliyuncs.com/img/20210907175029.jpg)

核心就是”取指执行“ ：cpu最重要的工作就是 找到指令  执行指令，请熟记这句话

<!-- 程序执行分支： 
* 条件分支和循环分支使用的是跳转指令，至于是否跳转，由cpu参考标志寄存器的数据后进行判断。

标志寄存器的第一个字节位，第二个字节位，和第三个字节位的值为1,表示运算结果为正数，零和负数 

 ![](https://isam2016hexo.oss-cn-hangzhou.aliyuncs.com/img/20210907183017.jpg)

函数的调用机制：

函数调用处理也是通过把程序计数器的值设定成函数的存储地址来实现的。

不过这和条件分支，循环分支有所不同，因为单纯的跳转指令无法实现函数的调用

函数的调用，需要在完成函数内部的处理后处理流程在返回函数调用点（函数调用指令的下一个地点）

如果只是跳转到函数的入口地址，处理流程就不知道返回到哪里了

* call：函数调用指令
* return： 

在将函数的入口地址设定到程序计数器之前，call 指令会把函数调用后要指定的指令地址存储在名为栈的主内存， -->


